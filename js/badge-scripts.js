let p = {
	badges : document.getElementById('badges'),
	badgeInfo : document.getElementById('badgeInfo')
}

badges = {
	beatv : {
		name : 'Bea TV',
		description : 'Check out Bea TV online to earn this badge!',
		paper : 'images/badges/paper/beatv-paper-merit-badge.png',
		hrPaper : `images/badges/paper/HighRes/beatv-paper-merit-badge.png`,
		fabric : 'images/badges/fabric/beatv-fabric-merit-badge.png',
		hrFabric : `images/badges/fabric/HighRes/beatv-fabric-merit-badge.png`,
		certificate : 'https://drive.google.com/file/d/1rxwa0SK8VZFUHzYa0xih5fwS05SYuERh/view?usp=sharing',
		template : `https://drive.google.com/file/d/1pIQyKjAaRTpWx8Y-9MNBIwcwIQh4sGHm/view?usp=sharing`,
		tasks : {
			task1 : {
				id : 'youTube',
				title : `Subscribe to BeaTV on YouTube`,
				mainPhoto : `images/tasks/beatv/youtube.jpg`,
				mainPhotoAlt : `bea tv youtube`,
				instructions : `<p>Check out BeaTV on YouTube.<br>This is where you will find all of the Bea TV Summer Camp videos. If you enjoy Bea's Summer Camp content, then take a look around! Bea has over 100 videos for you to enjoy!</p>
					<a href="https://www.youtube.com/channel/UCpEnS-1sCtqrVwhVhPYWkBg" target="_blank"><button class="beatv-task-buttons">Bea TV on YouTube</button></a>
					`,
				photo : ``,
				photoAlt : ``,
				photoCredit : ``,
				task : ``,
				ywn : ``,
				youTube : `cTqqiIGwum0`
				},
			task2 : {
				id : 'facebook',
				title : `Follow @welcometobeatv on Facebook`,
				mainPhoto : `images/tasks/beatv/facebook.jpeg`,
				mainPhotoAlt : `bea tv facebook`,
				instructions : `Follow BeaTV on Facebook to keep up to date on all of Bea's videos.<br><br><a href="https://www.facebook.com/welcometobeatv" target="_blank"><button class="beatv-task-buttons">Bea TV on Facebook</button></a>
					<br><br>`,
				photo : ``,
				photoAlt : ``,
				photoCredit : ``,
				task : ``,
				ywn : ``,
				youTube : ``
			},
			task3 : {
				id : 'instagram',
				title : `Follow @welcometobeatv on Instagram`,
				mainPhoto : `images/tasks/beatv/instagram.jpeg`,
				mainPhotoAlt : `bea tv instagram`,
				instructions : `Follow BeaTV on Instagram to see some of Bea's art and craft projects!<br><br><a href="https://www.instagram.com/welcometobeatv/" target="_blank"><button class="beatv-task-buttons">Bea TV on Instagram</button></a>
					<br><br>`,
				photo : ``,
				photoAlt : ``,
				photoCredit : ``,
				task : ``,
				ywn : ``,
				youTube : ``
				},
			task4 : {
				id : 'twitter',
				title : `Follow @welcometobeatv on Twitter`,
				mainPhoto : `images/tasks/beatv/twitter.jpeg`,
				mainPhotoAlt : `bea tv twitter`,
				instructions : `Follow BeaTV on Twitter to keep up to date with Bea's latest videos<br><br><a href="https://twitter.com/welcometobeatv" target="_blank"><button class="beatv-task-buttons">Bea TV on Twitter</button></a>
					<br><br>`,
				photo : ``,
				photoAlt : ``,
				photoCredit : ``,
				task : ``,
				ywn : ``,
				youTube : ``
			},
			task5 : {
				id : 'website',
				title : `Visit Bea-TV.com`,
				mainPhoto : `images/tasks/beatv/beatv-website.jpeg`,
				mainPhotoAlt : `bea tv dot com`,
				instructions : `Visit Bea-TV.com to see what Bea has been up to!<br><br><a href="https://bea-tv.com/" target="_blank"><button class="beatv-task-buttons">Visit Bea-TV.com</button></a>
					<br><br>`,
				photo : ``,
				photoAlt : ``,
				photoCredit : ``,
				task : ``,
				ywn : ``,
				youTube : ``
			},
		}
	},
	mexico : {
		name : 'Mexico',
		description : 'Learn about Mexico while making some fun, colorful Mexican crafts',
		paper : 'images/badges/paper/mexico-paper-merit-badge.png',
		hrPaper : `images/badges/paper/HighRes/mexico-paper-merit-badge.png`,
		fabric : 'images/badges/fabric/mexico-fabric-merit-badge.png',
		hrFabric : `images/badges/fabric/HighRes/mexico-fabric-merit-badge.png`,
		certificate : 'https://drive.google.com/file/d/1WvoNvJvpFkDRN6jeNBRYLsZNWfPG06Lg/view?usp=sharing',
		template : `https://drive.google.com/file/d/1ziipAaMa6iMOfL1Oo6D70VmtcUlYP12d/view?usp=sharing`,
		tasks : {
			task1 : {
				id : 'ojoDeDios',
				title : `Ojo De Dios - God's Eye`,
				mainPhoto : `images/tasks/mexico/ojoDeDios.jpg`,
				mainPhotoAlt : `bea tv summer camp ojo de dios`,
				instructions : `Ojo de Dios are commonly found in Mexican and Mexican American communities.<br> When a child is born the father weaves the central eye and then one eye is added each year until the child is 5. This is then gifted from the father to the child as a gift of protection.<br> The center eye represents the sun, each end of the stick represents the 4 basic elements - wind, water, air and fire.<br>Some craftspeople create complicated elaborate versions to sell as decorations and some can include tassels, feathers or beads too.`,
				photo : `https://upload.wikimedia.org/wikipedia/commons/d/d2/God%27s_eyes.jpg`,
				photoAlt : `ojo de dios or gods eye`,
				photoCredit : `Image By <a href="//commons.wikimedia.org/wiki/User:Douglaspperkins" title="User:Douglaspperkins">Douglas P. Perkins</a> - <span class="int-own-work" lang="en">Own work</span>, <a href="https://creativecommons.org/licenses/by-sa/3.0" title="Creative Commons Attribution-Share Alike 3.0">CC BY-SA 3.0</a>, <a href="https://commons.wikimedia.org/w/index.php?curid=23845164">Link</a>`,
				task : `Task 1: Watch this video and make an Ojo de Dios or God's Eye with Bea.`,
				ywn : ['Scissors', 'Popsicle Sticks', 'Yarn', 'Glue'],
				youTube : `8KRO6Yz_LjQ`
				},
			task2 : {
				id : 'cactusRockArt',
				title : `Painted Cactus Rock Art`,
				mainPhoto : ``,
				mainPhotoAlt : `bea tv rock cactus art`,
				instructions : `Mexico has the most cacti in the world.<br>Cacti can come in lots of different sizes and shapes.Most of them live in very dry environments and they have many adaptations to conserve water, such as thick fleshy parts to store water. They also have spines instead of leaves to prevent water loss.`,
				photo : `https://upload.wikimedia.org/wikipedia/commons/c/c9/Notocactuswarasii.jpg`,
				photoAlt : `cactus`,
				photoCredit : `Image By <a href="//commons.wikimedia.org/wiki/User:Stickpen" title="User:Stickpen">Stickpen</a> - <span class="int-own-work" lang="en">Own work</span>, Public Domain, <a href="https://commons.wikimedia.org/w/index.php?curid=7173604">Link</a>`,
				task : `Task 2: Watch this video from <a href="https://www.youtube.com/channel/UCmmsfuHGQDbXzXl2WAv5u1A" target="_blank">Maisons du Monde</a> to get inspiration to make some painted cactus rock art`,
				ywn : ['Rocks', 'Paints', 'Paintbrushes'],
				youTube : `dY9G6F_yCMM`
			},
			task3 : {
				id : 'pinata',
				title : `Mini Piñatas`,
				mainPhoto : ``,
				mainPhotoAlt : ``,
				instructions : `A piñata is a container usually made from paper-mâché, but also can be made from pottery or cloth. They are decorated and filled with small toys or candy. The art of making paper-mâché piñatas falls under the Mexican craft, <a href="https://en.wikipedia.org/wiki/Cartoner%C3%ADa">Cartonería</a>. <br>They are typically used as part of celebrations such as birthday parties, Christmas or Cinco de Mayo. The piñata is hung up using string. One at a time, each participant, usually a child, will be blindfolded and given a stick. and spun around. This person then has to try to hit the pinata to break it open. There is typically a time limit for each participate to try to break open the piñata. In Mexico, party goers will sing traditional songs. Different people will take turns hitting the piñata until it is broken open, releasing the treats.`,
				photo : `https://upload.wikimedia.org/wikipedia/commons/9/91/Pi%C3%B1atas_tabasque%C3%B1as.jpg`,
				photoAlt : `selection of pinatas`,
				photoCredit : `Image By <a href="//commons.wikimedia.org/wiki/User:Alfonsobouchot" title="User:Alfonsobouchot">Alfonsobouchot</a> - <span class="int-own-work" lang="en">Own work</span>, <a href="https://creativecommons.org/licenses/by-sa/3.0" title="Creative Commons Attribution-Share Alike 3.0">CC BY-SA 3.0</a>, <a href="https://commons.wikimedia.org/w/index.php?curid=16301079">Link</a>`,
				task : `Task 3: Watch this video from <a href="https://www.youtube.com/channel/UCy8YC5oYluMVYARiCRarcjw" target="_blank">Kawaii Sweet World</a> to make a cute mini piñata.</strong>`,
				ywn : [`<a href="http://kawaiisweetworld.com/diy-mini-pinatas/">Template from Kawaii Sweet World</a>`, 'Cereal Box Cardboard', 'Liquid School Glue', 'Tape', 'Tissue Paper', 'Scissors', 'Construction Paper', 'String to Hang Pinata'],
				youTube : `9uT2gUFDJGo`
				},
			task4 : {
				id : 'sugarSkullDolls',
				title : `Sugar Skull Dolls`,
				mainPhoto : ``,
				mainPhotoAlt : `bea tv sugar skull doll`,
				instructions : `A calavara is a representation of a human skull. They are usually made out of clay or sugar and are used in the Mexican celebration, Dia de Muertos (Day of the Dead). La Calavera Catrina is a common part of Mexican Day of the Dead celebrations.<br>The Day of the Dead is a holiday celebrated throughout Mexico. It is a multi-day celebration where friends and family gather to remember other friends or family who have died. The 3-day fiesta is filled with sugar skulls, cardboard skeletons, marigolds, tissue paper decorations, bread, nuts and incense. People build private altars to remember their lost friends and family, with their favorite foods, photos and other memorabilia. They also reminisce with funny stories and anecdotes about the people they are remembering.`,
				photo : `https://upload.wikimedia.org/wikipedia/commons/thumb/a/a2/La_Calavera_Catrina_Tonal%C3%A1.jpg/512px-La_Calavera_Catrina_Tonal%C3%A1.jpg`,
				photoAlt : `la cavalera catrina`,
				photoCredit : `Image By <a href="//commons.wikimedia.org/wiki/User:Gzzz" title="User:Gzzz">Gzzz</a> - <span class="int-own-work" lang="en">Own work</span>, <a href="https://creativecommons.org/licenses/by-sa/4.0" title="Creative Commons Attribution-Share Alike 4.0">CC BY-SA 4.0</a>, <a href="https://commons.wikimedia.org/w/index.php?curid=81495561">Link</a>`,
				task : `Task 4: Make one of these <a href="https://www.bluebearwood.co.uk/sugar-skull-dolls/" target="_blank">Sugar Skull Dolls from Blue Bear Wood</a>`,
				ywn : ['Cereal Box Card', '40mm Styrofoam Ball', 'Patterned Paper', 'Double Sided Tape', 'School Glue', 'Sharpies', 'Tissue Paper', 'Pipe Cleaners', 'Felt Scraps'],
				youTube : `_sSawpU81cI`
			},
			task5 : {
				id : 'pinchPots',
				title : `Mexican Talavera Pinch Pots`,
				mainPhoto : ``,
				mainPhotoAlt : ``,
				instructions : `Talavera pottery is a Mexican and Spanish pottery tradition. The ceramics are decorated using only 6 colors: blue, yellow, black, green, orange and mauve. <br>Look at the examples below for inspiration or do some research yourself.<br>
					<div id="talavera">
					<figure>
  						<img src="https://m.media-amazon.com/images/I/91TXM0ItlmL._AC_UL320_.jpg" alt="talavera bowls">
  						<figcaption><a href="https://www.amazon.com/Talavera-Molcajete-Colorful-Accesories-Guacamole/dp/B07PXMP1VD/ref=sr_1_2?dchild=1&keywords=talavera+pottery&qid=1592679609&sr=8-2" target="_blank">Source</a></figcaption>
					</figure>
					<figure>
  						<img src="https://sep.yimg.com/ca/I/directfrommexico_2271_22406117" alt="talavera plate">
  						<figcaption><a href="https://www.directfrommexico.com/dh2008z.html" target="_blank">Source</a></figcaption>
					</figure>
					<figure>
  						<img src="https://secure.img1-fg.wfcdn.com/im/19499166/resize-h700-w700%5Ecompr-r85/1201/120107057/default_name.jpg" alt="talavaera plant pot">
  						<figcaption><a href="https://www.wayfair.com/outdoor/pdp/tierra-firme-talavera-ledge-ceramic-pot-planter-qbcm1034.html" target="_blank">Source</a></figcaption>
					</figure>
					<figure>
  						<img src="https://images-na.ssl-images-amazon.com/images/I/814l6uWjJbL._AC_SX679_.jpg" alt="talavera serving platter">
  						<figcaption><a href="https://www.amazon.com/Jayde-Grey-Talavera-Pottery-Rectangle/dp/B084Q28P1L/ref=sr_1_27?dchild=1&keywords=talavera+pottery&qid=1592680967&sr=8-27" target="_blank">Source</a></figcaption>
					</figure>
				</div>`,
				photo : `https://upload.wikimedia.org/wikipedia/commons/thumb/d/da/Talaveraarmando.jpg/768px-Talaveraarmando.jpg`,
				photoAlt : `talavera pottery`,
				photoCredit : `Image By <a href="//commons.wikimedia.org/w/index.php?title=User:Danielllerandi&amp;action=edit&amp;redlink=1" class="new" title="User:Danielllerandi (page does not exist)">Danielllerandi</a> - <span class="int-own-work" lang="en">Own work</span>, <a href="https://creativecommons.org/licenses/by-sa/3.0" title="Creative Commons Attribution-Share Alike 3.0">CC BY-SA 3.0</a>, <a href="https://commons.wikimedia.org/w/index.php?curid=33380426">Link</a>`,
				task : `Task 5: Make a pinch pot and decorate it in the talavera style`,
				ywn : ['Clay', 'Paints in blue, yellow, black, green, orange and mauve', 'Glaze or Sealer'],
				youTube : `c6jgOziOQDA`
			},
		},
	},
	storyteller : {
		name : 'Storyteller',
		description : 'If you love making stories, then this is a badge you will really enjoy earning!',
		paper : 'images/badges/paper/storyteller-paper-merit-badge.png',
		hrPaper : `images/badges/paper/HighRes/storyteller-paper-merit-badge.png`,
		fabric : 'images/badges/fabric/storyteller-fabric-merit-badge.png',
		hrFabric : `images/badges/fabric/HighRes/storyteller-fabric-merit-badge.png`,
		certificate : 'https://drive.google.com/file/d/1rldHq1dr7Cp3iFxiOOxWSjiPzz0YeQyo/view?usp=sharing',
		template : `https://drive.google.com/file/d/1MXMAzWXp14jQBm4aUGhwdHbeGUDvZmZ9/view?usp=sharing`,
		tasks : {
			task1 : {
					id : '',
					title : ``,
					mainPhoto : '',
					mainPhotoAlt : ``,
					instructions : ``,
					photo  : ``,
					photoAlt : ``,
					photoCredit : ``,
					task : ``,
					ywn : ``,
					youTube : ``
				},
			task2 : {
					id : '',
					title : ``,
					mainPhoto : '',
					mainPhotoAlt : ``,
					instructions : ``,
					photo  : ``,
					photoAlt : ``,
					photoCredit : ``,
					task : ``,
					ywn : ``,
					youTube : ``
			},
			task3 : {
					id : '',
					title : ``,
					mainPhoto : '',
					mainPhotoAlt : ``,
					instructions : ``,
					photo  : ``,
					photoAlt : ``,
					photoCredit : ``,
					task : ``,
					ywn : ``,
					youTube : ``
				},
			task4 : {
					id : '',
					title : ``,
					mainPhoto : '',
					mainPhotoAlt : ``,
					instructions : ``,
					photo  : ``,
					photoAlt : ``,
					photoCredit : ``,
					task : ``,
					ywn : ``,
					youTube : ``
			},
			task5 : {
					id : '',
					title : ``,
					mainPhoto : '',
					mainPhotoAlt : ``,
					instructions : ``,
					photo  : ``,
					photoAlt : ``,
					photoCredit : ``,
					task : ``,
					ywn : ``,
					youTube : ``
			}
		}
	}
}

let keys = Object.keys(badges)

// ADD BADGES TO PAGE AS MENU
let badgeMenu = ``

keys.forEach((key) => {
	badgeMenu += `<div><img class="badgeImage" id="${key}" src="${badges[key].paper}" alt="${key} merit badge"></div>`
})
p.badges.innerHTML = badgeMenu

// EVENT LISTENER TO LISTEN FOR CLICK ON BADGE MENU
p.badges.addEventListener('click', (e) => {
	if(e.target.localName == 'img'){
		let id = e.target.id

		let bi = `
		<h3>${badges[id].name} Merit Badge</h3>
		<img src="${badges[id].paper}" alt="${badges[id].name} paper merit badge">
        <div id="des"><p>${badges[id].description}</p></div>
        <p>Complete all 5 tasks to earn your ${badges[id].name} Merit Badge.<br><br>Click on the tasks below to get information and instructions on how to complete each one.</p>`

        Object.keys(badges[id].tasks).forEach((key) => {
        	let task = badges[id].tasks[key]

        	// Task title bar
        	bi += `<div id="${key}"class="badgeTask">
        	<h3 class="taskTitle">${task.title}</h3>`

        	if(task.mainPhoto != ``){
        		bi += `<img class="taskImage" src="${task.mainPhoto}" alt="${task.mainPhotoAlt}">`
        	}
        	bi += `</div>`

        	// Task info
        	bi += `<div class="hide taskInfo ${key}">
        		<p>${task.instructions}</p>`

        	if(task.photo != ``){
        		bi += `<img src="${task.photo}" alt="${task.photoAlt}">
        		<span class="credit">${task.photoCredit}</span><br><br>`

        	}

        	if(task.task != ``){
        		bi += `<strong>${task.task}</strong>`
        	}

        	if(task.ywn != ``){
        		bi += `<div class="ywn">
					<h3>You Will Need: </h3>
					<ul>`

				task.ywn.forEach((item) => {
					bi += `<li>${item}</li>`
				})
				bi += `</ul>
        				</div><br>`
        	}

       		if(task.youTube != ``){
       			bi += `<div class="youTube-wrapper"><iframe width="560" height="315" src="https://www.youtube.com/embed/${task.youTube}" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
						</div><br>`
        		}
        	bi += `</div></div>`
        })

        let checklist = `<div id="complete"><p>Have you completed all 5 tasks for the ${badges[id].name} Merit Badge?</p>`
        Object.keys(badges[id].tasks).forEach((key) => {
			checklist += `<input type="checkbox" id="${badges[id].tasks[key].title}" name="${badges[id].tasks[key].title}">
           <label for="${badges[id].tasks[key].title}" class="strikethrough">${badges[id].tasks[key].title}</label><br>`
        })

        bi += `
			${checklist}<br>
			<button id="allDone" class="${id}">Yes, I have completed all 5 tasks!</button>
		</div>
		<br>
	`

		p.badgeInfo.innerHTML = bi
	}

		p.badgeInfo.scrollIntoView()

})

// EVENT LISTENER TO LISTEN FOR CLICK ON BADGE INFO TO EXPAND INSTRUCTIONS

p.badgeInfo.addEventListener('click', (e) => {
	if(e.target.classList.contains('badgeTask')){
		e.target.nextSibling.classList.toggle('hide')
	}
	if(e.target.classList.contains('taskImage') || e.target.classList.contains('taskTitle')){
		e.target.parentElement.nextSibling.classList.toggle('hide')
	}

	if(e.target.id == 'allDone'){
		let id = e.target.classList[0]

		document.getElementById('complete').innerHTML = `
		<div id="redeem">
		<h3>Congratulations!!</h3>
		<p>Choose how you want to receive your merit badge from the options below</p>
		<a href="${badges[id].certificate}" target="_blank"><button id="certificate" class="redeem ${id}">${badges[id].name} Merit Badge Certificate</button></a>
		<a href="${badges[id].hrFabric}" target="_blank"><button id="fabric" class="redeem ${id}">${badges[id].name} Fabric-Style Merit Badge</button></a>
		<a href="${badges[id].hrPaper}" target="_blank"><button id="paper" class="redeem ${id}">${badges[id].name} Paper-Style Merit Badge</button></a><br><br>
		<p>If you would like to make your own fabric merit badge, download the template below and follow <a href="https://blog.etsy.com/en/how-tuesday-make-a-merit-badge/" target="_blank">these instructions</a></p><br>
		<a href="${badges[id].template}" target="_blank"><button id="template" class="redeem ${id}">Get the ${badges[id].name} Merit Badge Template</button></a>
		</div>`
	}

})


